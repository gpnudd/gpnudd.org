<!DOCTYPE html>
<html>
  <head>
  <title>通用公共不枉死聲明 | General Public Not Unnecessary Death Declaration | GPNUDD.ORG</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta name="description" content="本人樂觀開朗，身體健康，無任何使我困擾之慢性病或心理疾病，故絕不可能做出任何看似自殺之行為。本人從無睡眠方面困擾，故不需服用安...">
  <link rel="stylesheet" type="text/css" href="//cdn.rawgit.com/jasonm23/markdown-css-themes/gh-pages/avenir-white.css" >
  <style type="text/css">
    body {
        font-family: "Helvetica Neue", Helvetica, Arial, 微軟正黑體, sans-serif;
        max-width: 54em;
    }

    #buttonArea, h1, h2 {
      text-align: center;
    }

    #markdownArea {
      font-size: 100%;
    }

    #iWantOneBtn {
      /* could be more beautiful*/
    }

    #footer {
      text-align: right;
    }
  </style>
  </head>
  <body>
    <div id="markdownArea"> </div>
    <div id="buttonArea"><input type="submit" id="iWantOneBtn" value="我也要一份"/></div>
    <div id="footer"><a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0 Universal</a> | <a href="https://github.com/gpnudd/gpnudd.org">Github</a></div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js">
    </script>
    <script src="//cdn.rawgit.com/michael/github/master/github.js">
    </script>
    <script>
    var oReq = new XMLHttpRequest();
    oReq.open("get", "v1.md", true);
    oReq.onload = function(e) {
      var content = oReq.response;
      var output = marked(content);

      if(window.location.hash) {
        var hash = window.location.hash.substring(1);
        var name = hash.replace(/[\u00A0-\u9999<>\&]/gim, function(i) {
          return '&#'+i.charCodeAt(0)+';';
        });
        var url = 'http://gpnudd.org/#' + name;
        output = output.replace('(YOUR_NAME)', '<a href="' + url + '">' + name+ '</a>');
        var link = '<h4>永久連結：<a href="' + url + '">' + url + '</a></h1>';
        document.getElementById('markdownArea').innerHTML = output + link;
      } else {
        output = output.replace('(YOUR_NAME)', '<input type="text" id="nameTextBox"/ placeholder="請輸入名稱, 按下 Enter" maxlength="20" style="font-size:28px">');
        document.getElementById('markdownArea').innerHTML = output;
        document.getElementById("nameTextBox").addEventListener('keydown', function (event) {
          if (event.keyCode == 13) {
            ga('send', 'event', 'get_gpnudd', 'enter', document.getElementById("nameTextBox").value);
            window.location.href = '/#' + document.getElementById("nameTextBox").value;
            window.location.reload();
          }
          return;
        });
      }
    };
    oReq.send();

    document.getElementById("iWantOneBtn").addEventListener('click', function (event) {
      window.location.href = '/#';
      window.location.reload();
    });
    </script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-48893605-2', 'gpnudd.org', {'allowAnchor': true});
    ga('send', 'pageview',  window.location.protocol + '//' + window.location.hostname + window.location.pathname + window.location.search + location.hash);
    </script>
  </body>
</html>

